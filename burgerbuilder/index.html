<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" crossorigin="anonymous">
  
  <title>Charles Moonen's Burger Builder</title>
  <style media="screen">
    .alert {
      width: 70vw;
      margin-top: 1em;
      margin-left: 15vw;
    }

    form {
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-template-rows: auto;
      grid-template-areas: "left right";
      grid-column-gap: 2em;
    }
    @media only screen and (max-width: 600px)  {
      form {
        display: grid;
        grid-template-columns: auto;
        grid-template-rows: auto auto;
        grid-template-areas: "left"
                             "right";
      }
    }

    .left-secion {
      grid-area: left;
    }

    .right-section {
      grid-area: right;
    }

    #burgerTitle {
      font-weight: bold;
      color: red;
    }

    input[type=checkbox] {
      margin-left: 2em;
    }

    .content {
      margin: 2em;
    }

    p {
      margin-bottom: 0px;
    }
  </style>
</head>

<body>
  <div class="content">
    <h2>Burger Builder</h2>
    <p>With this tool you get to build the "sets" (toppings) for randomized Smashburger orders. Test your knowlege and have fun!</p>
    <h3>You must now build the <span id="burgerTitle">Error</span></h3>

    <form id="builder">
      <div class="left-secion">
        <span style="font-weight: bold;">Buns:</span>
        <br><input type="checkbox" name="egg" id="egg"><label for="egg">Egg Bun</label>
        <br><input type="checkbox" name="grain" id="grain"><label for="grain">Multi-Grain Bun</label>
        <br><input type="checkbox" name="spicy" id="spicy"><label for="spicy">Spicy Chipotle Bun</label>
        <br><input type="checkbox" name="onionBun" id="onionBun"><label for="onionBun">Onion Bun</label>
        <br><input type="checkbox" name="pretzel" id="pretzel"><label for="pretzel">Pretzel Bun</label>

        <br><span style="font-weight: bold;">Cheese:</span>
        <br><input type="checkbox" name="american" id="am0"><label for="am0">American Cheese</label>
        <br><input type="checkbox" name="american" id="am1"><label for="am1">American Cheese</label>
        <br><input type="checkbox" name="american" id="am2"><label for="am2">American Cheese</label>
        <br><input type="checkbox" name="blue" id="blue"><label for="blue">Blue Cheese</label>
        <br><input type="checkbox" name="cheddar" id="cheddar"><label for="cheddar">Cheddar Cheese</label>
        <br><input type="checkbox" name="jack" id="jack"><label for="jack">Pepper Jack Cheese</label>
        <br><input type="checkbox" name="goat" id="goat"><label for="goat">Goat Cheese</label>
        <br><input type="checkbox" name="swiss" id="swiss"><label for="swiss">Swiss</label>
        <br><input type="checkbox" name="melt" id="melt"><label for="melt">Melted Aged Cheddar</label>

        <br><span style="font-weight: bold;">Other Toppings:</span>
        <br><input type="checkbox" name="bacon" id="bacon"><label for="bacon">Bacon</label>
        <br><input type="checkbox" name="hay" id="hay"><label for="hay">Haystack Onions</label>
        <br><input type="checkbox" name="guac" id="guac"><label for="guac">Guacamole</label>
        <br><input type="checkbox" name="doub" id="doub"><label for="doub">Double Burgers (small)</label>
      </div>

      <div class="right-section">
        <span style="font-weight: bold;">Sauces:</span>
        <br><input type="checkbox" name="smash" id="smash"><label for="smash">Smash Sauce</label>
        <br><input type="checkbox" name="ketchup" id="ketchup"><label for="ketchup">Ketchup</label>
        <br><input type="checkbox" name="ranch" id="ranch"><label for="ranch">Ranch Dressing</label>
        <br><input type="checkbox" name="buffalo" id="buffalo"><label for="buffalo">Frank's Red Hot Buffalo Sauce</label>
        <br><input type="checkbox" name="mayo" id="mayo"><label for="mayo">Mayo</label>
        <br><input type="checkbox" name="chipotle" id="chipotle"><label for="chipotle">Chipotle Dressing</label>
        <br><input type="checkbox" name="balsamic" id="balsamic"><label for="balsamic">Balsamic Vinaigrette</label>
        <br><input type="checkbox" name="truffle" id="truffle"><label for="truffle">Truffle Mayo</label>
        <br><input type="checkbox" name="bbq" id="bbq"><label for="bbq">BBQ Sauce</label>

        <br><span style="font-weight: bold;">Veggies:</span>
        <br><input type="checkbox" name="lettuce" id="lettuce"><label for="lettuce">Lettuce</label>
        <br><input type="checkbox" name="tomato" id="tomato"><label for="tomato">Tomato</label>
        <br><input type="checkbox" name="onion" id="onion"><label for="onion">Onion</label>
        <br><input type="checkbox" name="pickle" id="pickle"><label for="pickle">Pickle</label>
        <br><input type="checkbox" name="mushroom" id="mushroom"><label for="mushroom">Sauteed Crimini Mushrooms</label>
        <br><input type="checkbox" name="spinach" id="spinach"><label for="spinach">Spinach</label>
        <br><input type="checkbox" name="cucumber" id="cucumber"><label for="cucumber">Cucumber</label>
        <br><input type="checkbox" name="jalapeno" id="jalapeno"><label for="jalapeno">Jalapeños</label>
        <br><input type="checkbox" name="avocado" id="avocado"><label for="avocado">Avocado</label>
      </div>
      <br><input type="button" value="Submit" onclick="checkBurger()">
    </form>

    <p>This tool was created independently and has no affiliation with a certain burger company.</p>
  </div>

  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-s
  mHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
  <script type="text/javascript">
    const BURGERS = {
      "Triple Double": ["egg", 2, "melt", "doub", "pickle", "onion", "tomato", "lettuce", "smash", "ketchup"],
      "Bacon Triple Double": ["egg", 2, "melt", "doub", "pickle", "onion", "tomato", "lettuce", "smash", "ketchup", "bacon"],
      "Classic Smash": ["egg", "pickle", "onion", "tomato", "lettuce", 1, "smash", "ketchup"],
      "Bacon Avocado Club": ["grain", "tomato", "lettuce", "ranch", "mayo", "bacon", "avocado"],
      "BBQ Bacon and Cheddar": ["egg", "bbq", "bacon", "cheddar", "hay"],
      "Buffalo and Blue Cheese": ["egg", "buffalo", "blue", "tomato", "lettuce", "mayo"],
      "Spicy Jalapeño Baja": ["spicy", "jalapeno", "guac", "jack", "lettuce", "tomato", "onion", "chipotle"],
      "Spinach Cucumber and Goat Cheese": ["grain", "spinach", "cucumber", "goat", "tomato", "onion", "balsamic"],
      "Truffle Mushroom Swiss": ["egg", "swiss", "truffle", "mushroom"],
      "Pub Triple Double": ["pretzel", 3, "grill", "spicyMust"],
      "Twin Cities": ["onionBun", "melt", "grill", "swiss", "mayo", "lettuce", "tomato"],
      "Sin City": [1, "grill", "friedEgg", "bacon", "hay", "smash", "egg"],
      "Windy City": ["lettuce", "tomato", "hay", "melt", "pretzel", "spicyMust"]
    }

    const goodBurger = "<div class=\"alert alert-success\" role=\"alert\"><p>Success! You got the burger 100% right!</p></div>"

    const badBurger = "<div class=\"alert alert-danger\" role=\"alert\"><p>Uh Oh! Looks like you got something wrong!</p></div>"


    var title = $("#burgerTitle");

    function newBurger() {
      var target = Math.floor(Math.random() * 13);
      var i = 0;
      for (burger in BURGERS) {
        if (i == target) {
          return burger
        }
        i++;
      }
    }

    function arraysEqual(arr1, arr2) {
      if (arr1.length !== arr2.length)
        return false;
      for (var i = arr1.length; i--;) {
        if (arr1[i] !== arr2[i])
          return false;
      }

      return true;
    }

    function checkBurger() {
      var boxes = $("input[type=checkbox]");
      var itemsUsed = [];
      var currentBurger = BURGERS[$("#burgerTitle").html()]

      for (item of boxes) {
        if (item.checked) {
          console.log(item.name + " -- checked");
          if (item.name == "american") {
            console.log(item.name + " -- american");
            if ((typeof itemsUsed[0]) != "number"){
              console.log(item.name + " -- unshift");
              itemsUsed.unshift(0);
            }
            console.log(item.name + " -- increment");
            itemsUsed[0]++;
          } else {
            console.log(item.name + " -- push");
            itemsUsed.push(item.name);
          }
        }
      }

      console.log(itemsUsed);
      console.log(currentBurger);
      if (arraysEqual(itemsUsed.sort(), currentBurger.sort())) {
        $(".alert").remove()
        $("body").prepend(goodBurger)
        $('html, body').animate({scrollTop: 0}, 'fast');
        $("#burgerTitle").html(newBurger())
        $("input[type=checkbox]").prop("checked", false)
      } else {
        $(".alert").remove()
        $("body").prepend(badBurger)
        console.log(currentBurger);
        console.log(itemsUsed);
        $('html, body').animate({scrollTop: 0}, 'fast');
      }

      return itemsUsed
    }
    $("#burgerTitle").html(newBurger())
  </script>
</body>

</html>
